[n.global]
output = nimagemagick

[n.include]
nimagemagick
nimagemagick/include

[n.prepare]
gitremote = "https://github.com/ImageMagick/ImageMagick.git"
gitsparse = """
MagickCore/*.h*
MagickWand/*.h*
"""
copy = """
${output}/MagickCore/config.h_vms=${output}/MagickCore/magick-baseconfig.h,
${output}/MagickCore/version.h_vms=${output}/MagickCore/version.h,
${output}/MagickCore/xwdfile.h_vms=${output}/MagickCore/xwdfile.h,
${output}/MagickCore/magick-config.h=${output}/magick-config.h
"""

[n.wildcard]
wildcard = "*.h"
search.wexp = "WandExport"
replace.wexp = ""
search.wpriv = "WandPrivate"
replace.wpriv = ""
search.mexp = "MagickExport"
replace.mexp = ""
search.mpriv = "MagickPrivate"
replace.mpriv = ""

[MagickWand/MagickWand.h]
preprocess = true
defines = true
inline = false

dynlib.lin = "libMagickWand-7.Q16HDRI.so"

[MagicCore/MagickCore.h]
preprocess = true
defines = true
inline = false

dynlib.lin = "libMagickCore-7.Q16HDRI.so"
